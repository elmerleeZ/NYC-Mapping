hist.bg.color="gray60",
hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlOrRd", alpha = .9, labels = NULL) +
tm_legend(text.size=0.8,
title.size=.001,
position = c("left","top"),
bg.color = "gray80",
bg.alpha=.2,
frame='gray100',
legend.height=0.4,
legend.width = 1,
hist.width=.15,
hist.height=.15,
hist.bg.color="gray60",
hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlOrRd", alpha = .9, labels = NULL) +
tm_legend(text.size=0.8,
title.size=.001,
position = c("left","top"),
bg.color = "gray80",
bg.alpha=.2,
frame='gray100',
legend.height=0.4,
legend.width = 0.7,
hist.width=.15,
hist.height=.15,
hist.bg.color="gray60",
hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlOrRd", alpha = .9, labels = NULL) +
tm_legend(text.size=0.8,
title.size=.001,
position = c("left","top"),
bg.color = "gray80",
bg.alpha=.2,
frame='gray100',
legend.height=0.4,
legend.width = 0.4,
hist.width=.15,
hist.height=.15,
hist.bg.color="gray60",
hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlOrRd", alpha = .9, labels = NULL) +
tm_legend(text.size=0.8,
title.size=.001,
position = c("left","top"),
bg.color = "gray80",
bg.alpha=.2,
frame='gray100',
legend.height=0.4,
legend.width = 0.4,
hist.width=.3,
hist.height=.3,
hist.bg.color="gray60",
hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlOrRd", alpha = .9, labels = NULL) +
tm_legend(text.size=0.8,
title.size=.001,
position = c("left","top"),
bg.color = "gray80",
bg.alpha=.2,
frame='gray100',
legend.height=0.4,
legend.width = 0.4,
hist.width=3,
hist.height=3,
hist.bg.color="gray60",
hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlOrRd", alpha = .9, labels = NULL) +
tm_legend(text.size=0.8,
title.size=.001,
position = c("left",
"top"),
bg.color = "white",
bg.alpha=.2,
frame="gray50",
height=.6,
hist.width=.2,
hist.height=.2,
hist.bg.color="gray60",
hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlOrRd", alpha = .9, labels = NULL) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray80",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height=0.4,
legend.width = 0.4,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlOrRd", alpha = .9, labels = NULL) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray80",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlOrRd", alpha = .9, labels = NULL) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray80",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray80",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "YlGnBu", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray80",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray80",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = "Total Number of Population in 2010",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = " ",
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("tot_pop_2010", palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = NA,
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03,
legend.format = c(110000,150000))
tm_plot <- function(tract,var){
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("var", palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = NA,
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03)
}
tm_plot(tract,'tot_pop_2010')
tm_plot(tract,tot_pop_2010)
tm_plot <- function(tract,var){
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons("var", palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
#tm_shape(tract[tract$tract == 177, ]) +
#tm_fill(col = "white") +
#tm_shape(tract[tract$tract == 177, ]) +
#tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = NA,
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03)
}
tm_plot(tract,tot_pop_2010)
?tm_polygons
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons(col = tot_pop_2010, palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = NA, main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03)
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons(col = 'tot_pop_2010', palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = NA, main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03)
tm_plot <- function(tract,var){
variable <- var
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons(col = variable, palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = NA,
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03)
}
tm_plot(tract,'tot_pop_2010')
tm_plot(tract,'tot_pop_2010') + save_tmap(filename = "/Users/zongyangli/Desktop/Total Population in 2010.pdf", width = 6.5, height = 8, dpi = 700)
tm_plot(tract,'tot_pop_2010')
tm_plot(tract,'tot_pop_2010') + save_tmap(filename = "/Users/zongyangli/Desktop/Total Population in 2010.pdf", width = 6.5, height = 8, dpi = 700)
tm_plot <- function(tract,var){
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons(col = var, palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = NA,
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03)
}
tm_plot(tract,'tot_pop_2010')
tm_plot(tract,'tot_pop_2010') + save_tmap(filename = "/Users/zongyangli/Desktop/Total Population in 2010.pdf", width = 6.5, height = 8, dpi = 700)
tm_plot <- function(tract,var){
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons(col = var, palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = NA,
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03) +
save_tmap(filename = "/Users/zongyangli/Desktop/" %S% var %S% ".pdf", width = 6.5, height = 8, dpi = 700)
}
tm_plot(tract,'tot_pop_2010')
tm_plot <- function(tract,var){
tm_shape(tract[tract$puma %in% puma_focus,]) + tm_borders() +
tm_polygons(col = var, palette = "Blues", alpha = .9) +
tm_layout(legend.text.size=0.8,
legend.title.size=.001,
legend.position = c("left","top"),
legend.bg.color = "gray100",
legend.bg.alpha=.2,
legend.frame='gray100',
legend.height= 2,
legend.width = 2,
legend.hist.width=.15,
legend.hist.height=.15,
legend.hist.bg.color="gray60",
legend.hist.bg.alpha=.5) +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "white") +
tm_shape(tract[tract$tract == 177, ]) +
tm_fill(col = "forestgreen", alpha = .6) + tm_borders() +
tm_layout(main.title = NA,
main.title.size = 2.2, fontfamily = "sans", main.title.position = 0.03)
}
tm_plot(tract,'tot_pop_2010') + save_tmap(filename = "/Users/zongyangli/Desktop/Total Population in 2010.png", width = 6.5, height = 8, dpi = 700)
tm_plot(tract,'tot_pop_2010')
?save_tmap
tm_plot(tract,'tot_pop_2010')
tm_plot(tract,'tot_pop_2010') + save_tmap(filename = "/Users/zongyangli/Desktop/Total Population in 2010.png", width = 6.5, height = 8, dpi = 700)
